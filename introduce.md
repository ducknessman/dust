### DUST 测试平台简介

#### 简介

**版本** v1.1
本平台主要为练手产物，其中存在一些bug，请及时联系管理员。

#### 平台结构
```text
├─app                                  #flask的程序
│  ├─admin                             #后台程序
│  ├─login                             #登录程序
│  ├─static                            #全部静态文件
│  │  ├─css                     
│  │  └─js
│  ├─templates                         #全部页面
│  │  ├─control
│  │  └─report
├─dust                                 #后台处理逻辑
├─migrations                           #数据库备份文件
├─sql                                  #需要插入的数据
├─app.py                               #程序入口
├─data.sqlite                          #数据库文件
├─exts.py                              #数据库连接
├─introduce.md                         #介绍文档
├─manager.py                           #添加数据库入口
├─setting.py                           #相关配置文件
```

#### 1. 数据库初始化
将代码clone之后，需要初始化数据库。步骤如下
1.数据库初始化
>python manager.py db init

2.数据库生成备份文件
>python manager.py db migrate

3.数据库更新
>python manager.py db upgrade

4.生成登录管理员
>python manager.py create_user -u admin -p admin -e 123@qq.com -ph 13355885566

#### 2.导入数据
打开sql文件夹，将里面的sql文件导入数据库。避免出现一些不必要的问题。数据文件在sql文件夹中，执行sql语句就可以实现导入。

#### 3.运行程序
运行程序可以直接run apps.py 程序就可以实现，简易更改端口，避免造成端口占用的问题。

#### 4.功能简介
此版本为开发的V1.0版本，主要目的是优化上一个版本的数据库响应时间长，和页面冲突以及一些其他优化。
1. 在此版本实现了压力测试突变展示系统，可以每2秒进行一次推送，数据进行实时显示。
2. 本版本实现了权限系统，通过控制url来实现访问
3. 增加操作日志查询展示页面，同时增加慢日志的查询方法，通过词频展示的方式查看慢sql的方式。
4. 重写测试报告模板。
5. 对上传和下载功能进行了优化
6. 实现checkbox的勾选执行，批量删除功能。
7. 实现登录时密码加密功能
8. 实现修改密码功能
9. 增加用例统计展示板和对应图形展示

#### 5. 下一个版本优化
1. 继续优化页面，使页面使用更加流畅，页面美化。
1.1. 优化首页图表样式，增加美观度；
1.2. 优化用例执行页面table的样式;
1.3. 更换页码统计方式，使用js进行页数统计和翻页功能;
1.4. 增加用例执行关联页面的功能实现;
1.5. 实现可勾选的数据库比对页面和勾选样式;
1.6. 实现定时任务页面的简单实现;
1.7. 实现页面的数量可以自行选择；
2. 加入缓存系统，优化性能。
3. 更新权限系统，使权限系统更加细化，可以通过页面勾选实现权限分配，并将未赋予权限的账号的对应功能进行隐藏。
4. 实现监控服务器的数据进行实时存储，并实现数据可下载，和定期删除处理数据
5. 增加操作日志，记录每个管理员的操作情况
6. 增加慢SQL日志的告警功能，并增加执行用例的通知和邮件功能(主要是实现钉钉信息实时推送和邮箱推送)
7. 增加录制脚本重放功能，初步实现流量回放功能。
8. 增加jemter和fiddler，postman的用例上传功能，实现xlm,json的用力上传，实现一键录入功能。
9. 增加访问时长控制，将session过期时间设置成可配置项
10. 实现定时任务的简单功能，主要以crontab的功能为主。
11. 减少代码冗余，精简代码，实现方法共用。